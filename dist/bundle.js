!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var o;n.r(e),function(t){t[t.NORTH=0]="NORTH",t[t.NORTH_EAST=1]="NORTH_EAST",t[t.EAST=2]="EAST",t[t.SOUTH_EAST=3]="SOUTH_EAST",t[t.SOUTH=4]="SOUTH",t[t.SOUTH_WEST=5]="SOUTH_WEST",t[t.WEST=6]="WEST",t[t.NORTH_WEST=7]="NORTH_WEST"}(o||(o={}));var i,r=function(){function t(t,e){this.owner=t,this.cardinal=e}return t.prototype.paint=function(e){e.fillStyle=c.color;var n=0,i=0;switch(this.cardinal){case o.NORTH:n=this.owner.x+this.owner.w/2,i=this.owner.y;break;case o.NORTH_EAST:n=this.owner.x+this.owner.w,i=this.owner.y;break;case o.EAST:n=this.owner.x+this.owner.w,i=this.owner.y+this.owner.h/2;break;case o.SOUTH_EAST:n=this.owner.x+this.owner.w,i=this.owner.y+this.owner.h;break;case o.SOUTH:n=this.owner.x+this.owner.w/2,i=this.owner.y+this.owner.h;break;case o.SOUTH_WEST:n=this.owner.x,i=this.owner.y+this.owner.h;break;case o.WEST:n=this.owner.x,i=this.owner.y+this.owner.h/2;break;case o.NORTH_WEST:n=this.owner.x,i=this.owner.y}e.fillRect(n-t.HSIZE,i-t.HSIZE,2*t.HSIZE,2*t.HSIZE)},t.HSIZE=4,t}(),s=function(){function t(){}return t.colorAsString=function(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a/255+")"},t}(),c=function(){function t(t,e){this.position=t,this.size=e,this.ctrlPoints=[],this.addControlPoints()}return t.prototype.paint=function(e){e.strokeStyle=t.color,e.beginPath(),e.rect(this.position.x,this.position.y,this.size.w,this.size.h),e.stroke(),this.ctrlPoints.forEach((function(t){return t.paint(e)}))},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.size.w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.size.h},enumerable:!1,configurable:!0}),t.prototype.select=function(t,e){return e?this.contained(t,e):this.contains(t)},t.prototype.addControlPoints=function(){var t=this;Object.keys(o).map((function(e){var n=Number(e);isNaN(n)||t.ctrlPoints.push(new r(t,n))}))},t.prototype.contains=function(t){var e=this.x,n=this.x+this.w,o=this.y,i=this.y+this.h;return e<t.clientX&&t.clientX<n&&o<t.clientY&&t.clientY<i},t.prototype.contained=function(t,e){return!1},t.color=s.colorAsString({r:28,g:116,b:232,a:255}),t}(),u=function(){function t(t,e){this.bbox=t,this.color=e,this._selected=!1}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t},enumerable:!1,configurable:!0}),t.prototype.paint=function(t){this.doPaint(t),this.selected&&this.bbox.paint(t)},t.prototype.select=function(t,e){this.selected=this.bbox.select(t,e)},t}(),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.doPaint=function(t){var e="Hello world sweet world in this October 18th",n=t.measureText(e);t.textBaseline="hanging",t.font="48px serif",n.actualBoundingBoxAscent,t.fillStyle=s.colorAsString(this.color),t.fillText(e,this.bbox.x,this.bbox.h)},e}(u),a=function(){function t(){this.figures=[],this.modified=!1,this.name=null}return t.prototype.paint=function(t){this.figures.forEach((function(e){return e.paint(t)}))},t.prototype.addTestFigures=function(){var t=new p(new c({x:100,y:100},{w:400,h:100}),{r:255,g:0,b:0,a:255});this.figures.push(t);var e=new p(new c({x:100,y:100},{w:400,h:200}),{r:0,g:255,b:0,a:255});this.figures.push(e);var n=new p(new c({x:100,y:100},{w:400,h:300}),{r:0,g:0,b:0,a:255});this.figures.push(n)},t.prototype.selectAll=function(){this.figures.forEach((function(t){return t.selected=!0}))},t.prototype.select=function(t,e){this.figures.forEach((function(n){return n.select(t,e)})),T.repaint()},t}(),l=function(){function t(){}return t.prototype.onMouseDown=function(t){this.evDown=t},t.prototype.onMouseUp=function(t){this.evUp=t,this.processMouseUp()},t.prototype.equal=function(t,e){return t.clientX===e.clientX&&t.clientY===e.clientY},t}(),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.processMouseUp=function(){this.equal(this.evDown,this.evUp)?T.select(this.evUp):T.select(this.evDown,this.evUp)},e}(l),d=function(){function t(){this.canvas=new w}return t.prototype.init=function(){this.canvas.init()},t.prototype.repaint=function(){this.canvas.repaint()},t}(),w=function(){function t(){this.tools=[],this.htmlElement=document.createElement("canvas"),document.body.appendChild(this.htmlElement),this.htmlElement.width=t.PAGE_WIDTH,this.htmlElement.height=t.PAGE_HEIGHT,this.htmlElement.style.backgroundColor="#FAFAFA",this.ctx=this.htmlElement.getContext("2d")}return t.prototype.init=function(){this.buildTools(),this.setActiveTool(t.SELECTION),window.addEventListener("mousedown",this.handleMouseDown.bind(this)),window.addEventListener("mouseup",this.handleMouseUp.bind(this))},t.prototype.setActiveTool=function(t){this.activeTool=this.tools[t]},t.prototype.getContext=function(){return this.ctx},Object.defineProperty(t.prototype,"width",{get:function(){return this.htmlElement.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.htmlElement.height},enumerable:!1,configurable:!0}),t.prototype.repaint=function(){this.drawGrid(this.ctx),b.getInstance().paint(this.ctx)},t.prototype.clear=function(t){t.fillStyle="#FAFAFA",t.fillRect(0,0,this.width,this.height)},t.prototype.drawGrid=function(e){if(e){this.clear(e),e.lineWidth=1,e.strokeStyle=t.GRID_COLOR;for(var n=this.width/t.GRID_SIZE,o=this.height/t.GRID_SIZE,i=1;i<n;i++)e.beginPath(),e.moveTo(i*t.GRID_SIZE,0),e.lineTo(i*t.GRID_SIZE,t.PAGE_HEIGHT),e.stroke();for(var r=1;r<o;r++)e.beginPath(),e.moveTo(0,r*t.GRID_SIZE),e.lineTo(t.PAGE_WIDTH,r*t.GRID_SIZE),e.stroke()}},t.prototype.buildTools=function(){this.tools[t.SELECTION]=new y},t.prototype.handleMouseDown=function(t){this.activeTool.onMouseDown(t)},t.prototype.handleMouseUp=function(t){this.activeTool.onMouseUp(t)},t.LINE_CREATION=0,t.RECT_CREATION=1,t.ELLI_CREATION=2,t.TEXT_CREATION=3,t.SELECTION=4,t.PAGE_WIDTH=2e3,t.PAGE_HEIGHT=2e3,t.GRID_SIZE=100,t.GRID_COLOR="#DDD0DD",t}(),b=function(){function t(){this.drawing=new a,this.mainWindow=new d,document.title="Graphics Editor v0.6"}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.run=function(){this.drawing.addTestFigures(),this.mainWindow.init(),this.repaint()},t.prototype.repaint=function(){this.mainWindow.repaint()},t.prototype.paint=function(t){this.drawing.paint(t)},t.prototype.select=function(t,e){this.drawing.select(t,e)},t}(),E=b.getInstance();E.run();var T=e.default=E}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2NvbnRyb2wtcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwvY29sb3ItaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9ib3VuZC1ib3gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2ZpZ3VyZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvdGV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvZHJhd2luZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy90b29sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3NlbGVjdGlvbi10b29sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L21haW4td2luZG93LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDYXJkaW5hbCIsIm93bmVyIiwiY2FyZGluYWwiLCJwYWludCIsImN0eCIsImZpbGxTdHlsZSIsImNvbG9yIiwieCIsInkiLCJ0aGlzIiwiTk9SVEgiLCJ3IiwiTk9SVEhfRUFTVCIsIkVBU1QiLCJoIiwiU09VVEhfRUFTVCIsIlNPVVRIIiwiU09VVEhfV0VTVCIsIldFU1QiLCJOT1JUSF9XRVNUIiwiZmlsbFJlY3QiLCJDb250cm9sUG9pbnQiLCJIU0laRSIsImNvbG9yQXNTdHJpbmciLCJnIiwiYiIsImEiLCJwb3NpdGlvbiIsInNpemUiLCJjdHJsUG9pbnRzIiwiYWRkQ29udHJvbFBvaW50cyIsInN0cm9rZVN0eWxlIiwiQm91bmRCb3giLCJiZWdpblBhdGgiLCJyZWN0Iiwic3Ryb2tlIiwiZm9yRWFjaCIsImNwIiwic2VsZWN0IiwiZXZEb3duIiwiZXZVcCIsImNvbnRhaW5lZCIsImNvbnRhaW5zIiwia2V5cyIsIm1hcCIsIk51bWJlciIsImlzTmFOIiwicHVzaCIsImV2IiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiY2xpZW50WCIsImNsaWVudFkiLCJDb2xvckhlbHBlciIsImJib3giLCJfc2VsZWN0ZWQiLCJkb1BhaW50Iiwic2VsZWN0ZWQiLCJ0ZXh0IiwibGVuZ2h0VGV4dCIsIm1lYXN1cmVUZXh0IiwidGV4dEJhc2VsaW5lIiwiZm9udCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiZmlsbFRleHQiLCJGaWd1cmUiLCJmaWd1cmVzIiwibW9kaWZpZWQiLCJmIiwiYWRkVGVzdEZpZ3VyZXMiLCJyZWRUZXh0IiwiZ3JlZW5UZXh0IiwiYmxhY2tUZXh0Iiwic2VsZWN0QWxsIiwicmVwYWludCIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwicHJvY2Vzc01vdXNlVXAiLCJlcXVhbCIsImV2MSIsImV2MiIsIlRvb2wiLCJjYW52YXMiLCJpbml0IiwidG9vbHMiLCJodG1sRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIndpZHRoIiwiQ2FudmFzIiwiUEFHRV9XSURUSCIsImhlaWdodCIsIlBBR0VfSEVJR0hUIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRDb250ZXh0IiwiYnVpbGRUb29scyIsInNldEFjdGl2ZVRvb2wiLCJTRUxFQ1RJT04iLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlTW91c2VEb3duIiwiaGFuZGxlTW91c2VVcCIsImFjdGl2ZVRvb2wiLCJkcmF3R3JpZCIsImdldEluc3RhbmNlIiwiY2xlYXIiLCJsaW5lV2lkdGgiLCJHUklEX0NPTE9SIiwibnVtVmVydGljYWxzIiwiR1JJRF9TSVpFIiwibnVtSG9yaXpvbnRhbHMiLCJ2IiwibW92ZVRvIiwibGluZVRvIiwiTElORV9DUkVBVElPTiIsIlJFQ1RfQ1JFQVRJT04iLCJFTExJX0NSRUFUSU9OIiwiVEVYVF9DUkVBVElPTiIsImRyYXdpbmciLCJtYWluV2luZG93IiwiTWFpbldpbmRvdyIsInRpdGxlIiwiQXBwIiwiaW5zdGFuY2UiLCJydW4iLCJhcHAiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxL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QUFSLFNBQ0l6RCxHQUVBdkMsS0FBS2tHLFdBQ0E5QixZQUNHN0IsSUFLSixZQUFBMEQsY0FBUixTQUNJMUQsR0FFQXZDLEtBQUtrRyxXQUNBN0IsVUFDRzlCLElBakxJLEVBQUF1RSxjQUF3QixFQUN4QixFQUFBQyxjQUF3QixFQUN4QixFQUFBQyxjQUF3QixFQUN4QixFQUFBQyxjQUF3QixFQUN4QixFQUFBcEIsVUFBd0IsRUFPeEIsRUFBQVIsV0FBcUIsSUFDckIsRUFBQUUsWUFBc0IsSUFFdEIsRUFBQWtCLFVBQW9CLElBQ3BCLEVBQUFGLFdBQXFCLFVBcUt6QyxFQXpMQSxHQ3pCQSxhQU1JLGFBQ0l2RyxLQUFLa0gsUUFBVSxJQUFJLEVBQ25CbEgsS0FBS21ILFdBQWEsSUFBSUMsRUFFdEJyQyxTQUFTc0MsTUFBUSx1QkFvRHpCLE9BaERXLEVBQUFqQixZQUFQLFdBUUksT0FQS2tCLEVBQUlDLFdBSUxELEVBQUlDLFNBQVcsSUFBSUQsR0FHaEJBLEVBQUlDLFVBR2YsWUFBQUMsSUFBQSxXQUNJeEgsS0FBS2tILFFBQ0FwRCxpQkFFTDlELEtBQUttSCxXQUNBdkMsT0FFTDVFLEtBQUttRSxXQUlULFlBQUFBLFFBQUEsV0FDSW5FLEtBQUttSCxXQUNBaEQsV0FJVCxZQUFBekUsTUFBQSxTQUNJQyxHQUVBSyxLQUFLa0gsUUFDQXhILE1BQ0dDLElBS1osWUFBQWtDLE9BQUEsU0FDSUMsRUFDQUMsR0FFQS9CLEtBQUtrSCxRQUNBckYsT0FDR0MsRUFDQUMsSUFHaEIsRUE5REEsR0NGTTBGLEVBQU0sRUFBSXJCLGNBQ2hCcUIsRUFBSUQsTUFFVyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBHcmFwaGljc09iamVjdCB9IGZyb20gJy4vZ3JhcGhpY3Mtb2JqZWN0JztcclxuaW1wb3J0IHsgQm91bmRCb3ggfSBmcm9tICcuL2JvdW5kLWJveCc7XHJcblxyXG5leHBvcnQgZW51bSBDYXJkaW5hbCB7XHJcbiAgICBOT1JUSCxcclxuICAgIE5PUlRIX0VBU1QsXHJcbiAgICBFQVNULFxyXG4gICAgU09VVEhfRUFTVCxcclxuICAgIFNPVVRILFxyXG4gICAgU09VVEhfV0VTVCxcclxuICAgIFdFU1QsXHJcbiAgICBOT1JUSF9XRVNUXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sUG9pbnQgXHJcbiAgICBpbXBsZW1lbnRzIEdyYXBoaWNzT2JqZWN0IHtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgSFNJWkU6IG51bWJlciA9IDQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBvd25lcjogQm91bmRCb3gsXHJcbiAgICAgICAgcHJpdmF0ZSBjYXJkaW5hbDogQ2FyZGluYWwgKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpbnQoIFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gQm91bmRCb3guY29sb3I7XHJcblxyXG4gICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICBsZXQgeSA9IDA7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGNvbXBsZXRlIHN3aXRjaFxyXG5cclxuICAgICAgICBzd2l0Y2ggKCB0aGlzLmNhcmRpbmFsICkge1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLk5PUlRIOlxyXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMub3duZXIueCArIHRoaXMub3duZXIudyAvIDI7XHJcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5vd25lci55O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuTk9SVEhfRUFTVDpcclxuICAgICAgICAgICAgICAgIHggPSB0aGlzLm93bmVyLnggKyB0aGlzLm93bmVyLnc7XHJcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5vd25lci55O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuRUFTVDpcclxuICAgICAgICAgICAgICAgIHggPSB0aGlzLm93bmVyLnggKyB0aGlzLm93bmVyLnc7XHJcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5vd25lci55ICsgdGhpcy5vd25lci5oLzI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5TT1VUSF9FQVNUOlxyXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMub3duZXIueCArIHRoaXMub3duZXIudztcclxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLm93bmVyLnkgKyB0aGlzLm93bmVyLmg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDYXJkaW5hbC5TT1VUSDpcclxuICAgICAgICAgICAgICAgIHggPSB0aGlzLm93bmVyLnggKyB0aGlzLm93bmVyLncgLyAyO1xyXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMub3duZXIueSArIHRoaXMub3duZXIuaDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLlNPVVRIX1dFU1Q6XHJcbiAgICAgICAgICAgICAgICB4ID0gdGhpcy5vd25lci54O1xyXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMub3duZXIueSArIHRoaXMub3duZXIuaDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENhcmRpbmFsLldFU1Q6XHJcbiAgICAgICAgICAgICAgICB4ID0gdGhpcy5vd25lci54O1xyXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMub3duZXIueSArIHRoaXMub3duZXIuaC8yO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuTk9SVEhfV0VTVDpcclxuICAgICAgICAgICAgICAgIHggPSB0aGlzLm93bmVyLng7XHJcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5vd25lci55O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZmlsbFJlY3QoIFxyXG4gICAgICAgICAgICB4IC0gQ29udHJvbFBvaW50LkhTSVpFLCB5IC0gQ29udHJvbFBvaW50LkhTSVpFLCBcclxuICAgICAgICAgICAgMiAqIENvbnRyb2xQb2ludC5IU0laRSwgMiAqIENvbnRyb2xQb2ludC5IU0laRSBcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBpbnRlcmZhY2UgQ29sb3Ige1xuICAgIHI6IG51bWJlcjtcbiAgICBnOiBudW1iZXI7XG4gICAgYjogbnVtYmVyO1xuICAgIGE6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIENvbG9ySGVscGVyIHtcblxuICAgIHN0YXRpYyBjb2xvckFzU3RyaW5nKFxuICAgICAgICBjb2xvcjogQ29sb3IgKTogc3RyaW5nIHtcblxuICAgICAgICByZXR1cm4gJ3JnYmEoJ1xuICAgICAgICAgICAgKyBjb2xvci5yXG4gICAgICAgICAgICArICcsJ1xuICAgICAgICAgICAgKyBjb2xvci5nXG4gICAgICAgICAgICArICcsJ1xuICAgICAgICAgICAgKyBjb2xvci5iXG4gICAgICAgICAgICArICcsJ1xuICAgICAgICAgICAgKyAoY29sb3IuYSAvIDI1NSlcbiAgICAgICAgICAgICsgJyknO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENhcmRpbmFsLCBDb250cm9sUG9pbnQgfSBmcm9tICcuL2NvbnRyb2wtcG9pbnQnO1xyXG5pbXBvcnQgeyBDb2xvckhlbHBlciB9IGZyb20gJy4uL3V0aWwvY29sb3ItaGVscGVyJztcclxuaW1wb3J0IHsgR3JhcGhpY3NPYmplY3QgfSBmcm9tICcuL2dyYXBoaWNzLW9iamVjdCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uIHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb24ge1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQm91bmRCb3ggXHJcbiAgICBpbXBsZW1lbnRzIEdyYXBoaWNzT2JqZWN0IHtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgY29sb3I6IHN0cmluZyA9IENvbG9ySGVscGVyLmNvbG9yQXNTdHJpbmcoe1xyXG4gICAgICAgIHI6IDI4LFxyXG4gICAgICAgIGc6IDExNixcclxuICAgICAgICBiOiAyMzIsXHJcbiAgICAgICAgYTogMjU1LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcHVibGljIGludGVyZmFjZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBwb3NpdGlvbjogUG9zaXRpb24sXHJcbiAgICAgICAgcHJpdmF0ZSBzaXplOiBEaW1lbnNpb24gKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29udHJvbFBvaW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhaW50KCBcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gZHJhdyBib3VuZCBib3hcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBCb3VuZEJveC5jb2xvcjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LnJlY3QoIFxyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSwgXHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZS53LCAgICAgdGhpcy5zaXplLmggXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgY29udHJvbCBwb2ludHNcclxuICAgICAgICB0aGlzLmN0cmxQb2ludHMuZm9yRWFjaCggXHJcbiAgICAgICAgICAgIChjcDogQ29udHJvbFBvaW50KSA9PiBjcC5wYWludCggY3R4ICkgXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgeCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB3KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS53O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS5oO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5FV1xyXG4gICAgc2VsZWN0KFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwPzogTW91c2VFdmVudCApOiBib29sZWFuIHtcclxuICAgICAgICAgXHJcbiAgICAgICAgaWYgKCBldlVwICkge1xyXG4gICAgICAgICAgICAvLyBib3VuZCBib3ggc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lZChcclxuICAgICAgICAgICAgICAgIGV2RG93biwgZXZVcFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcG9pbnQgc2VsZWN0aW9uXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnMoXHJcbiAgICAgICAgICAgIGV2RG93blxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBcclxuICAgIHByaXZhdGUgY3RybFBvaW50czogQ29udHJvbFBvaW50W10gPSBbXHJcbiAgICBdO1xyXG5cclxuICAgIHByaXZhdGUgYWRkQ29udHJvbFBvaW50cygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gdGFyZ2V0ID0gRVMyMDE3K1xyXG4gICAgICAgIC8vIE9iamVjdC52YWx1ZXMoXHJcbiAgICAgICAgLy8gICAgIENhcmRpbmFsXHJcbiAgICAgICAgLy8gKVxyXG4gICAgICAgIC8vIC5tYXAoIChjYXJkaW5hbDogQ2FyZGluYWwpID0+XHJcbiAgICAgICAgLy8gICAgIHRoaXMuY3RybFBvaW50c1xyXG4gICAgICAgIC8vICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbmV3IENvbnRyb2xQb2ludChcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY2FyZGluYWxcclxuICAgICAgICAvLyAgICAgICAgICAgICApXHJcbiAgICAgICAgLy8gICAgICAgICApXHJcbiAgICAgICAgLy8gKTtcclxuXHJcbiAgICAgICAgLy8gdGFyZ2V0ID0gRVM1XHJcbiAgICAgICAgT2JqZWN0LmtleXMoXHJcbiAgICAgICAgICAgIENhcmRpbmFsXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5tYXAoIChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkaW5hbDogbnVtYmVyID0gTnVtYmVyKCBcclxuICAgICAgICAgICAgICAgIGtleSBcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggIWlzTmFOKCBjYXJkaW5hbCApICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHJsUG9pbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb250cm9sUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb250YWlucyhcclxuICAgICAgICBldjogTW91c2VFdmVudCApOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgY29uc3QgbGVmdDogICBudW1iZXIgPSB0aGlzLng7XHJcbiAgICAgICAgY29uc3QgcmlnaHQ6ICBudW1iZXIgPSB0aGlzLnggKyB0aGlzLnc7XHJcbiAgICAgICAgY29uc3QgdG9wOiAgICBudW1iZXIgPSB0aGlzLnk7XHJcbiAgICAgICAgY29uc3QgYm90dG9tOiBudW1iZXIgPSB0aGlzLnkgKyB0aGlzLmg7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gbGVmdCA8IGV2LmNsaWVudFggJiYgZXYuY2xpZW50WCA8IHJpZ2h0XHJcbiAgICAgICAgICAgICYmIHRvcCA8IGV2LmNsaWVudFkgJiYgZXYuY2xpZW50WSA8IGJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwcml2YXRlIGNvbnRhaW5lZChcclxuICAgICAgICBldkRvd246IE1vdXNlRXZlbnQsXHJcbiAgICAgICAgZXZVcDogTW91c2VFdmVudCApOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJvdW5kQm94IH0gZnJvbSAnLi9ib3VuZC1ib3gnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uL3V0aWwvY29sb3ItaGVscGVyJztcclxuaW1wb3J0IHsgR3JhcGhpY3NPYmplY3QgfSBmcm9tICcuL2dyYXBoaWNzLW9iamVjdCc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmlndXJlIFxyXG4gICAgaW1wbGVtZW50cyBHcmFwaGljc09iamVjdCB7XHJcblxyXG4gICAgLy8gcHVibGljIGludGVyZmFjZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBkb1BhaW50KCBcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByb3RlY3RlZCBiYm94OiBCb3VuZEJveCwgICAgICAgLy8gTkVXXHJcbiAgICAgICAgcHJvdGVjdGVkIGNvbG9yOiBDb2xvciApIHtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzZWxlY3RlZCggczogYm9vbGVhbiApIHtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IHM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVtcGxhdGUgTWV0aG9kXHJcbiAgICBwYWludCggXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIDEuIHBhaW50IGZpZ3VyZVxyXG4gICAgICAgIHRoaXMuZG9QYWludChcclxuICAgICAgICAgICAgY3R4XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gMi4gcGFpbnQgYm91bmRpbmcgYm94XHJcbiAgICAgICAgaWYgKCB0aGlzLnNlbGVjdGVkICkge1xyXG4gICAgICAgICAgICB0aGlzLmJib3hcclxuICAgICAgICAgICAgICAgIC5wYWludChcclxuICAgICAgICAgICAgICAgICAgICBjdHhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE5FV1xyXG4gICAgc2VsZWN0KCBcclxuICAgICAgICBldkRvd246IE1vdXNlRXZlbnQsXHJcbiAgICAgICAgZXZVcD86IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuYmJveFxyXG4gICAgICAgICAgICAuc2VsZWN0KCBcclxuICAgICAgICAgICAgICAgIGV2RG93biwgXHJcbiAgICAgICAgICAgICAgICBldlVwIFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG5vbi1wdWJsaWMgbWVtYmVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByb3RlY3RlZCBfc2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxufVxyXG4iLCJpbXBvcnQgeyBcclxuICAgIENvbG9yLFxyXG4gICAgQ29sb3JIZWxwZXIsIFxyXG59IGZyb20gJy4uL3V0aWwvY29sb3ItaGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgICBGaWd1cmUsXHJcbn0gZnJvbSAnLi9maWd1cmUnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0XHJcbiAgICBleHRlbmRzIEZpZ3VyZSB7XHJcblxyXG4gICAgcHJvdGVjdGVkIGRvUGFpbnQoXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gXCJIZWxsbyB3b3JsZCBzd2VldCB3b3JsZCBpbiB0aGlzIE9jdG9iZXIgMTh0aFwiO1xyXG4gICAgICAgIGNvbnN0IGxlbmdodFRleHQgPSBjdHgubWVhc3VyZVRleHQodGV4dCk7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwiaGFuZ2luZ1wiO1xyXG4gICAgICAgIGN0eC5mb250ID0gJzQ4cHggc2VyaWYnO1xyXG4gICAgICAgIGxlbmdodFRleHQuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IENvbG9ySGVscGVyLmNvbG9yQXNTdHJpbmcoXHJcbiAgICAgICAgICAgIHRoaXMuY29sb3JcclxuICAgICAgICApO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCAodGhpcy5iYm94LngpLCAodGhpcy5iYm94LmgpKTtcclxuICAgICAgICBcclxuICAgICAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBhcHAgZnJvbSAnLi4vaW5kZXgnO1xyXG5cclxuaW1wb3J0IHsgXHJcbiAgICBCb3VuZEJveCwgXHJcbn0gZnJvbSAnLi9ib3VuZC1ib3gnO1xyXG5cclxuaW1wb3J0IHsgXHJcbiAgICBGaWd1cmUsIFxyXG59IGZyb20gJy4vZmlndXJlJztcclxuXHJcbmltcG9ydCB7IFxyXG4gICAgTGluZSBcclxufSBmcm9tICcuL2xpbmUnO1xyXG5pbXBvcnQgeyBcclxuICAgIFJlY3RhbmdsZSBcclxufSBmcm9tICcuL3JlY3RhbmdsZSc7XHJcbmltcG9ydCB7IFxyXG4gICAgRWxsaXBzZSBcclxufSBmcm9tICcuL2VsbGlwc2UnO1xyXG5pbXBvcnQgeyBcclxuICAgIFRleHQgXHJcbn0gZnJvbSAnLi90ZXh0JztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd2luZyB7XHJcbiAgICBwcml2YXRlIGZpZ3VyZXM6IEZpZ3VyZVtdID0gW1xyXG4gICAgXTtcclxuXHJcbiAgICBwcml2YXRlIG1vZGlmaWVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHBvbHltb3JwaGlzbSBpbiBhY3Rpb25cclxuICAgIHBhaW50KFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmZpZ3VyZXMuZm9yRWFjaCggXHJcbiAgICAgICAgICAgIChmOiBGaWd1cmUpID0+IGYucGFpbnQoIGN0eCApIFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogZGVsZXRlIHRoaXNcclxuICAgIGFkZFRlc3RGaWd1cmVzKCk6IHZvaWQgeyAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlZFRleHQ6IFRleHQgPSBuZXcgVGV4dChcclxuICAgICAgICAgICAgbmV3IEJvdW5kQm94KCB7IHg6IDEwMCwgeTogMTAwIH0sIHsgdzogNDAwLCBoOiAxMDAgfSApLCAgIC8vIE5FV1xyXG4gICAgICAgICAgICB7IHI6IDI1NSwgZzogMCwgYjogMCwgYTogMjU1IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZmlndXJlc1xyXG4gICAgICAgICAgICAucHVzaChcclxuICAgICAgICAgICAgICAgIHJlZFRleHRcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JlZW5UZXh0OiBUZXh0ID0gbmV3IFRleHQoXHJcbiAgICAgICAgICAgIG5ldyBCb3VuZEJveCggeyB4OiAxMDAsIHk6IDEwMCB9LCB7IHc6IDQwMCwgaDogMjAwIH0gKSwgICAvLyBORVdcclxuICAgICAgICAgICAgeyByOiAwLCBnOiAyNTUsIGI6IDAsIGE6IDI1NSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmZpZ3VyZXNcclxuICAgICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgICAgICAgICBncmVlblRleHRcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmxhY2tUZXh0OiBUZXh0ID0gbmV3IFRleHQoXHJcbiAgICAgICAgICAgIG5ldyBCb3VuZEJveCggeyB4OiAxMDAsIHk6IDEwMCB9LCB7IHc6IDQwMCwgaDogMzAwIH0gKSwgICAvLyBORVdcclxuICAgICAgICAgICAgeyByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5maWd1cmVzXHJcbiAgICAgICAgICAgIC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgYmxhY2tUZXh0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0QWxsKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmlndXJlcy5mb3JFYWNoKCBcclxuICAgICAgICAgICAgKGY6IEZpZ3VyZSkgPT4gZi5zZWxlY3RlZCA9IHRydWUgXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVdcclxuICAgIHNlbGVjdCggXHJcbiAgICAgICAgZXZEb3duOiBNb3VzZUV2ZW50LFxyXG4gICAgICAgIGV2VXA/OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZmlndXJlcy5mb3JFYWNoKCBcclxuICAgICAgICAgICAgKGY6IEZpZ3VyZSkgPT4gZi5zZWxlY3QoIGV2RG93biwgZXZVcCApIFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IHNvbWV0aGluZyBzZWxlY3RlZD9cclxuICAgICAgICBhcHAucmVwYWludCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUb29sIHtcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHByb2Nlc3NNb3VzZVVwKCk6IHZvaWQ7XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2RG93bjogTW91c2VFdmVudDtcclxuICAgIHByb3RlY3RlZCBldlVwOiAgIE1vdXNlRXZlbnQ7XHJcblxyXG4gICAgb25Nb3VzZURvd24oXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuZXZEb3duID0gZXY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVtcGxhdGUgTWV0aG9kXHJcbiAgICBvbk1vdXNlVXAoXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIDEuIHNhdmUgZXZlbnRcclxuICAgICAgICB0aGlzLmV2VXAgPSBldjtcclxuXHJcbiAgICAgICAgLy8gMi4gZG8gc29tZXRoaW5nIHcvIHRoZSBldmVudHNcclxuICAgICAgICB0aGlzLnByb2Nlc3NNb3VzZVVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByb3RlY3RlZCBlcXVhbChcclxuICAgICAgICBldjE6IE1vdXNlRXZlbnQsXHJcbiAgICAgICAgZXYyOiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICByZXR1cm4gZXYxLmNsaWVudFggPT09IGV2Mi5jbGllbnRYIFxyXG4gICAgICAgICAgICAmJiBldjEuY2xpZW50WSA9PT0gZXYyLmNsaWVudFk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBUb29sIH0gZnJvbSAnLi90b29sJztcclxuXHJcbmltcG9ydCBhcHAgZnJvbSAnLi4vaW5kZXgnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdGlvblRvb2wgXHJcbiAgICBleHRlbmRzIFRvb2wge1xyXG5cclxuICAgIHByb3RlY3RlZCBwcm9jZXNzTW91c2VVcCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIHRoaXMuZXF1YWwoIHRoaXMuZXZEb3duLCB0aGlzLmV2VXAgKSApIHtcclxuICAgICAgICAgICAgLy8gcG9pbnQgc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIGFwcC5zZWxlY3QoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2VXBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGJvdW5kIGJveCBzZWxlY3Rpb25cclxuICAgICAgICAgICAgYXBwLnNlbGVjdChcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZEb3duLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5ldlVwXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgXHJcbiAgICBBcHAgXHJcbn0gZnJvbSAnLi4vY29udHJvbGxlci9hcHAnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5XaW5kb3cge1xyXG4gICAgLy8gcHJpdmF0ZSBtZW51OiBNZW51SGVscGVyO1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IENhbnZhcztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVdcclxuICAgIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNcclxuICAgICAgICAgICAgLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXBhaW50KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FudmFzXHJcbiAgICAgICAgICAgIC5yZXBhaW50KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIG1vZHVsZSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5pbXBvcnQgeyBUb29sIH0gZnJvbSAnLi90b29sJztcclxuaW1wb3J0IHsgU2VsZWN0aW9uVG9vbCB9IGZyb20gJy4vc2VsZWN0aW9uLXRvb2wnO1xyXG5cclxuY2xhc3MgQ2FudmFzIHtcclxuXHJcbiAgICBwcml2YXRlIGh0bWxFbGVtZW50OiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsO1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBMSU5FX0NSRUFUSU9OOiBudW1iZXIgPSAwO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IFJFQ1RfQ1JFQVRJT046IG51bWJlciA9IDE7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgRUxMSV9DUkVBVElPTjogbnVtYmVyID0gMjtcclxuICAgIHN0YXRpYyByZWFkb25seSBURVhUX0NSRUFUSU9OOiBudW1iZXIgPSAzO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IFNFTEVDVElPTjogICAgIG51bWJlciA9IDQ7XHJcbiAgICAvLyBORVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIHByaXZhdGUgdG9vbHM6IFRvb2xbXSA9IFtcclxuICAgIF07XHJcbiAgICBwcml2YXRlIGFjdGl2ZVRvb2w6IFRvb2w7XHJcbiAgICAvLyBORVcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgUEFHRV9XSURUSDogbnVtYmVyID0gMjAwMDtcclxuICAgIHN0YXRpYyByZWFkb25seSBQQUdFX0hFSUdIVDogbnVtYmVyID0gMjAwMDtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgR1JJRF9TSVpFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgR1JJRF9DT0xPUjogc3RyaW5nID0gJyNEREQwREQnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgICAnY2FudmFzJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keVxyXG4gICAgICAgICAgICAuYXBwZW5kQ2hpbGQoIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5odG1sRWxlbWVudCBcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudC53aWR0aCA9IENhbnZhcy5QQUdFX1dJRFRIO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuaGVpZ2h0ID0gQ2FudmFzLlBBR0VfSEVJR0hUO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGQUZBRkEnO1xyXG5cclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuaHRtbEVsZW1lbnRcclxuICAgICAgICAgICAgLmdldENvbnRleHQoXHJcbiAgICAgICAgICAgICAgICAnMmQnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBORVdcclxuICAgICAgICB0aGlzLmJ1aWxkVG9vbHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUb29sKFxyXG4gICAgICAgICAgICBDYW52YXMuU0VMRUNUSU9OXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogcmVnaXN0ZXIgZm9yIG1vdXNlIGV2ZW50c1xyXG4gICAgICAgIC8vIGRvd24sIHVwLCBtb3ZlLCBkcmFnLCBkb3VibGVjbGlja1xyXG4gICAgICAgIC8vIGVudGVyLCBleGl0XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcclxuICAgICAgICAgICAgJ21vdXNlZG93bicsIFxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlRG93blxyXG4gICAgICAgICAgICAgICAgLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcclxuICAgICAgICAgICAgJ21vdXNldXAnLCBcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwXHJcbiAgICAgICAgICAgICAgICAuYmluZChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3RpdmVUb29sKCBcclxuICAgICAgICB0OiBudW1iZXIgKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlVG9vbCA9IHRoaXMudG9vbHNbXHJcbiAgICAgICAgICAgIHRcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRleHQoKTogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmh0bWxFbGVtZW50LndpZHRoO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHRtbEVsZW1lbnQuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpbnQoKTogdm9pZCB7ICAgICAgICAgICAvLyBORVdcclxuICAgICAgICB0aGlzLmRyYXdHcmlkKFxyXG4gICAgICAgICAgICB0aGlzLmN0eFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIEFwcC5nZXRJbnN0YW5jZSgpXHJcbiAgICAgICAgICAgIC5wYWludChcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4XHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXIoXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkFGQUZBJztcclxuICAgICAgICBjdHguZmlsbFJlY3QoIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3R3JpZChcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGlmICggY3R4ICkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyKFxyXG4gICAgICAgICAgICAgICAgY3R4XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gQ2FudmFzLkdSSURfQ09MT1I7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiB1c2UgZG9jdW1lbnQgc2l6ZVxyXG4gICAgICAgICAgICBjb25zdCBudW1WZXJ0aWNhbHM6IG51bWJlciA9IHRoaXMud2lkdGggLyBDYW52YXMuR1JJRF9TSVpFO1xyXG4gICAgICAgICAgICBjb25zdCBudW1Ib3Jpem9udGFsczogbnVtYmVyID0gdGhpcy5oZWlnaHQgLyBDYW52YXMuR1JJRF9TSVpFO1xyXG5cclxuICAgICAgICAgICAgLy8gdmVydGljYWxzXHJcbiAgICAgICAgICAgIGZvciAoIGxldCB2OiBudW1iZXIgPSAxOyB2IDwgbnVtVmVydGljYWxzOyB2KysgKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKCBcclxuICAgICAgICAgICAgICAgICAgICB2ICogQ2FudmFzLkdSSURfU0laRSwgXHJcbiAgICAgICAgICAgICAgICAgICAgMCBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgIHYgKiBDYW52YXMuR1JJRF9TSVpFLCBcclxuICAgICAgICAgICAgICAgICAgICBDYW52YXMuUEFHRV9IRUlHSFQgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBob3Jpem9udGFsc1xyXG4gICAgICAgICAgICBmb3IgKCBsZXQgaDogbnVtYmVyID0gMTsgaCA8IG51bUhvcml6b250YWxzOyBoKysgKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKCBcclxuICAgICAgICAgICAgICAgICAgICAwLCBcclxuICAgICAgICAgICAgICAgICAgICBoICogQ2FudmFzLkdSSURfU0laRSBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKFxyXG4gICAgICAgICAgICAgICAgICAgIENhbnZhcy5QQUdFX1dJRFRILCBcclxuICAgICAgICAgICAgICAgICAgICBoICogQ2FudmFzLkdSSURfU0laRSBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXICAvLyBUT0RPOiBhZGQgcmVtYWluaW5nIHRvb2xzXHJcbiAgICBwcml2YXRlIGJ1aWxkVG9vbHMoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIHRoaXMudG9vbHNbIENhbnZhcy5MSU5FX0NSRUFUSU9OIF0gPSBuZXcgTGluZUNyZWF0aW9uVG9vbCgpO1xyXG4gICAgICAgIC8vIHRoaXMudG9vbHNbIENhbnZhcy5SRUNUX0NSRUFUSU9OIF0gPSBuZXcgUmVjdENyZWF0aW9uVG9vbCgpO1xyXG4gICAgICAgIC8vIHRoaXMudG9vbHNbIENhbnZhcy5FTExJX0NSRUFUSU9OIF0gPSBuZXcgRWxsaUNyZWF0aW9uVG9vbCgpO1xyXG4gICAgICAgIC8vIHRoaXMudG9vbHNbIENhbnZhcy5URVhUX0NSRUFUSU9OIF0gPSBuZXcgVGV4dENyZWF0aW9uVG9vbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudG9vbHNbIENhbnZhcy5TRUxFQ1RJT04gXSA9IG5ldyBTZWxlY3Rpb25Ub29sKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RhdGUgUGF0dGVyblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVNb3VzZURvd24oXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlVG9vbFxyXG4gICAgICAgICAgICAub25Nb3VzZURvd24oXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0YXRlIFBhdHRlcm5cclxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VVcChcclxuICAgICAgICBldjogTW91c2VFdmVudCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmVUb29sXHJcbiAgICAgICAgICAgIC5vbk1vdXNlVXAoXHJcbiAgICAgICAgICAgICAgICBldlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IERyYXdpbmcgfSBmcm9tICcuLi9tb2RlbC9kcmF3aW5nJztcclxuaW1wb3J0IHsgTWFpbldpbmRvdyB9IGZyb20gJy4uL3ZpZXcvbWFpbi13aW5kb3cnO1xyXG5cclxuLy8gU2luZ2xldG9uID0+IEltbXV0YWJsZVxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBBcHA7XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3aW5nOiBEcmF3aW5nO1xyXG4gICAgcHJpdmF0ZSBtYWluV2luZG93OiBNYWluV2luZG93O1xyXG4gICAgXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZHJhd2luZyA9IG5ldyBEcmF3aW5nKCk7XHJcbiAgICAgICAgdGhpcy5tYWluV2luZG93ID0gbmV3IE1haW5XaW5kb3coKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSAnR3JhcGhpY3MgRWRpdG9yIHYwLjYnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxhenkgaW5pdGlhbGl6YXRpb24gKHByZWZlcnJlZClcclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBBcHAge1xyXG4gICAgICAgIGlmICggQXBwLmluc3RhbmNlICkge1xyXG4gICAgICAgICAgICAvLyBOT09QXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBBcHAuaW5zdGFuY2UgPSBuZXcgQXBwKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gQXBwLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRyYXdpbmcgICAgICAgICAgICAvLyBUT0RPOiByZW1vdmVcclxuICAgICAgICAgICAgLmFkZFRlc3RGaWd1cmVzKCk7XHJcblxyXG4gICAgICAgIHRoaXMubWFpbldpbmRvd1xyXG4gICAgICAgICAgICAuaW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnJlcGFpbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmcm9tIG1vZGVsIHRvIHZpZXcgXHJcbiAgICByZXBhaW50KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubWFpbldpbmRvd1xyXG4gICAgICAgICAgICAucmVwYWludCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZyb20gdmlldyB0byBtb2RlbFxyXG4gICAgcGFpbnQoXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2luZ1xyXG4gICAgICAgICAgICAucGFpbnQoXHJcbiAgICAgICAgICAgICAgICBjdHhcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVdcclxuICAgIHNlbGVjdCggXHJcbiAgICAgICAgZXZEb3duOiBNb3VzZUV2ZW50LFxyXG4gICAgICAgIGV2VXA/OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZHJhd2luZ1xyXG4gICAgICAgICAgICAuc2VsZWN0KFxyXG4gICAgICAgICAgICAgICAgZXZEb3duLFxyXG4gICAgICAgICAgICAgICAgZXZVcFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFwcCB9IGZyb20gJy4vY29udHJvbGxlci9hcHAnO1xyXG5cclxuY29uc3QgYXBwID0gQXBwLmdldEluc3RhbmNlKCk7XHJcbmFwcC5ydW4oKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwcDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==