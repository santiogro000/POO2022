!function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";var o;e.r(n),function(t){t[t.NORTH=0]="NORTH",t[t.NORTH_EAST=1]="NORTH_EAST",t[t.EAST=2]="EAST",t[t.SOUTH_EAST=3]="SOUTH_EAST",t[t.SOUTH=4]="SOUTH",t[t.SOUTH_WEST=5]="SOUTH_WEST",t[t.WEST=6]="WEST",t[t.NORTH_WEST=7]="NORTH_WEST"}(o||(o={}));var i,r=function(){function t(t,n){this.owner=t,this.cardinal=n}return t.prototype.paint=function(n){n.fillStyle=c.color;var e=0,i=0;switch(this.cardinal){case o.SOUTH:e=this.owner.x+this.owner.w/2,i=this.owner.y+this.owner.h}n.fillRect(e-t.HSIZE,i-t.HSIZE,2*t.HSIZE,2*t.HSIZE)},t.HSIZE=4,t}(),s=function(){function t(){}return t.colorAsString=function(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a/255+")"},t}(),c=function(){function t(t,n){this.position=t,this.size=n,this.ctrlPoints=[],this.addControlPoints()}return t.prototype.paint=function(n){n.strokeStyle=t.color,n.beginPath(),n.rect(this.position.x,this.position.y,this.size.w,this.size.h),n.stroke(),this.ctrlPoints.forEach((function(t){return t.paint(n)}))},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.size.w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.size.h},enumerable:!1,configurable:!0}),t.prototype.select=function(t,n){return n?this.contained(t,n):this.contains(t)},t.prototype.addControlPoints=function(){var t=this;Object.keys(o).map((function(n){var e=Number(n);isNaN(e)||t.ctrlPoints.push(new r(t,e))}))},t.prototype.contains=function(t){var n=this.x,e=this.x+this.w,o=this.y,i=this.y+this.h;return n<t.clientX&&t.clientX<e&&o<t.clientY&&t.clientY<i},t.prototype.contained=function(t,n){return!1},t.color=s.colorAsString({r:28,g:116,b:232,a:255}),t}(),u=function(){function t(t,n){this.bbox=t,this.color=n,this._selected=!1}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t},enumerable:!1,configurable:!0}),t.prototype.paint=function(t){this.doPaint(t),this.selected&&this.bbox.paint(t)},t.prototype.select=function(t,n){this.selected=this.bbox.select(t,n)},t}(),p=(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return p(n,t),n}(u),f=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),a=function(t){function n(n,e){return t.call(this,n,e)||this}return f(n,t),n.prototype.doPaint=function(t){t.strokeStyle=s.colorAsString(this.color),t.beginPath(),t.moveTo(this.bbox.x,this.bbox.y),t.lineTo(this.bbox.x+this.bbox.w,this.bbox.y+this.bbox.h),t.stroke()},n}(h),l=function(){function t(){this.figures=[],this.modified=!1,this.name=null}return t.prototype.paint=function(t){this.figures.forEach((function(n){return n.paint(t)}))},t.prototype.addTestFigures=function(){var t=new a(new c({x:100,y:100},{w:400,h:100}),{r:255,g:0,b:0,a:255});this.figures.push(t);var n=new a(new c({x:100,y:100},{w:400,h:200}),{r:0,g:255,b:0,a:255});this.figures.push(n);var e=new a(new c({x:100,y:100},{w:400,h:300}),{r:0,g:0,b:0,a:255});this.figures.push(e)},t.prototype.selectAll=function(){this.figures.forEach((function(t){return t.selected=!0}))},t.prototype.select=function(t,n){this.figures.forEach((function(e){return e.select(t,n)})),g.repaint()},t}(),y=function(){function t(){}return t.prototype.onMouseDown=function(t){this.evDown=t},t.prototype.onMouseUp=function(t){this.evUp=t,this.processMouseUp()},t.prototype.equal=function(t,n){return t.clientX===n.clientX&&t.clientY===n.clientY},t}(),d=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return d(n,t),n.prototype.processMouseUp=function(){this.equal(this.evDown,this.evUp)?g.select(this.evUp):g.select(this.evDown,this.evUp)},n}(y),E=function(){function t(){this.canvas=new w}return t.prototype.init=function(){this.canvas.init()},t.prototype.repaint=function(){this.canvas.repaint()},t}(),w=function(){function t(){this.tools=[],this.htmlElement=document.createElement("canvas"),document.body.appendChild(this.htmlElement),this.htmlElement.width=t.PAGE_WIDTH,this.htmlElement.height=t.PAGE_HEIGHT,this.htmlElement.style.backgroundColor="#FAFAFA",this.ctx=this.htmlElement.getContext("2d")}return t.prototype.init=function(){this.buildTools(),this.setActiveTool(t.SELECTION),window.addEventListener("mousedown",this.handleMouseDown.bind(this)),window.addEventListener("mouseup",this.handleMouseUp.bind(this))},t.prototype.setActiveTool=function(t){this.activeTool=this.tools[t]},t.prototype.getContext=function(){return this.ctx},Object.defineProperty(t.prototype,"width",{get:function(){return this.htmlElement.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.htmlElement.height},enumerable:!1,configurable:!0}),t.prototype.repaint=function(){this.drawGrid(this.ctx),_.getInstance().paint(this.ctx)},t.prototype.clear=function(t){t.fillStyle="#FAFAFA",t.fillRect(0,0,this.width,this.height)},t.prototype.drawGrid=function(n){if(n){this.clear(n),n.lineWidth=1,n.strokeStyle=t.GRID_COLOR;for(var e=this.width/t.GRID_SIZE,o=this.height/t.GRID_SIZE,i=1;i<e;i++)n.beginPath(),n.moveTo(i*t.GRID_SIZE,0),n.lineTo(i*t.GRID_SIZE,t.PAGE_HEIGHT),n.stroke();for(var r=1;r<o;r++)n.beginPath(),n.moveTo(0,r*t.GRID_SIZE),n.lineTo(t.PAGE_WIDTH,r*t.GRID_SIZE),n.stroke()}},t.prototype.buildTools=function(){this.tools[t.SELECTION]=new b},t.prototype.handleMouseDown=function(t){this.activeTool.onMouseDown(t)},t.prototype.handleMouseUp=function(t){this.activeTool.onMouseUp(t)},t.LINE_CREATION=0,t.RECT_CREATION=1,t.ELLI_CREATION=2,t.TEXT_CREATION=3,t.SELECTION=4,t.PAGE_WIDTH=2e3,t.PAGE_HEIGHT=2e3,t.GRID_SIZE=100,t.GRID_COLOR="#DDD0DD",t}(),_=function(){function t(){this.drawing=new l,this.mainWindow=new E,document.title="Graphics Editor v0.6"}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.run=function(){this.drawing.addTestFigures(),this.mainWindow.init(),this.repaint()},t.prototype.repaint=function(){this.mainWindow.repaint()},t.prototype.paint=function(t){this.drawing.paint(t)},t.prototype.select=function(t,n){this.drawing.select(t,n)},t}(),T=_.getInstance();T.run();var g=n.default=T}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2NvbnRyb2wtcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwvY29sb3ItaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9ib3VuZC1ib3gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2ZpZ3VyZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvZ2VvbWV0cmljLWZpZ3VyZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvbGluZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvZHJhd2luZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy90b29sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3NlbGVjdGlvbi10b29sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L21haW4td2luZG93LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDYXJkaW5hbCIsIm93bmVyIiwiY2FyZGluYWwiLCJwYWludCIsImN0eCIsImZpbGxTdHlsZSIsImNvbG9yIiwieCIsInkiLCJ0aGlzIiwiU09VVEgiLCJ3IiwiaCIsImZpbGxSZWN0IiwiQ29udHJvbFBvaW50IiwiSFNJWkUiLCJjb2xvckFzU3RyaW5nIiwiZyIsImIiLCJhIiwicG9zaXRpb24iLCJzaXplIiwiY3RybFBvaW50cyIsImFkZENvbnRyb2xQb2ludHMiLCJzdHJva2VTdHlsZSIsIkJvdW5kQm94IiwiYmVnaW5QYXRoIiwicmVjdCIsInN0cm9rZSIsImZvckVhY2giLCJjcCIsInNlbGVjdCIsImV2RG93biIsImV2VXAiLCJjb250YWluZWQiLCJjb250YWlucyIsImtleXMiLCJtYXAiLCJOdW1iZXIiLCJpc05hTiIsInB1c2giLCJldiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImNsaWVudFgiLCJjbGllbnRZIiwiQ29sb3JIZWxwZXIiLCJiYm94IiwiX3NlbGVjdGVkIiwiZG9QYWludCIsInNlbGVjdGVkIiwiRmlndXJlIiwibW92ZVRvIiwibGluZVRvIiwiR2VvbWV0cmljRmlndXJlIiwiZmlndXJlcyIsIm1vZGlmaWVkIiwiZiIsImFkZFRlc3RGaWd1cmVzIiwicmVkTGluZSIsImdyZWVuTGluZSIsImJsYWNrTGluZSIsInNlbGVjdEFsbCIsInJlcGFpbnQiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsInByb2Nlc3NNb3VzZVVwIiwiZXF1YWwiLCJldjEiLCJldjIiLCJUb29sIiwiY2FudmFzIiwiaW5pdCIsInRvb2xzIiwiaHRtbEVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ3aWR0aCIsIkNhbnZhcyIsIlBBR0VfV0lEVEgiLCJoZWlnaHQiLCJQQUdFX0hFSUdIVCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZ2V0Q29udGV4dCIsImJ1aWxkVG9vbHMiLCJzZXRBY3RpdmVUb29sIiwiU0VMRUNUSU9OIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZU1vdXNlVXAiLCJhY3RpdmVUb29sIiwiZHJhd0dyaWQiLCJnZXRJbnN0YW5jZSIsImNsZWFyIiwibGluZVdpZHRoIiwiR1JJRF9DT0xPUiIsIm51bVZlcnRpY2FscyIsIkdSSURfU0laRSIsIm51bUhvcml6b250YWxzIiwidiIsIkxJTkVfQ1JFQVRJT04iLCJSRUNUX0NSRUFUSU9OIiwiRUxMSV9DUkVBVElPTiIsIlRFWFRfQ1JFQVRJT04iLCJkcmF3aW5nIiwibWFpbldpbmRvdyIsIk1haW5XaW5kb3ciLCJ0aXRsZSIsIkFwcCIsImluc3RhbmNlIiwicnVuIiwiYXBwIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcs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QUFJRCxNQUVXIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IEdyYXBoaWNzT2JqZWN0IH0gZnJvbSAnLi9ncmFwaGljcy1vYmplY3QnO1xyXG5pbXBvcnQgeyBCb3VuZEJveCB9IGZyb20gJy4vYm91bmQtYm94JztcclxuXHJcbmV4cG9ydCBlbnVtIENhcmRpbmFsIHtcclxuICAgIE5PUlRILFxyXG4gICAgTk9SVEhfRUFTVCxcclxuICAgIEVBU1QsXHJcbiAgICBTT1VUSF9FQVNULFxyXG4gICAgU09VVEgsXHJcbiAgICBTT1VUSF9XRVNULFxyXG4gICAgV0VTVCxcclxuICAgIE5PUlRIX1dFU1RcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xQb2ludCBcclxuICAgIGltcGxlbWVudHMgR3JhcGhpY3NPYmplY3Qge1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBIU0laRTogbnVtYmVyID0gNDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIG93bmVyOiBCb3VuZEJveCxcclxuICAgICAgICBwcml2YXRlIGNhcmRpbmFsOiBDYXJkaW5hbCApIHtcclxuICAgIH1cclxuXHJcbiAgICBwYWludCggXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBCb3VuZEJveC5jb2xvcjtcclxuXHJcbiAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgIGxldCB5ID0gMDtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY29tcGxldGUgc3dpdGNoXHJcblxyXG4gICAgICAgIHN3aXRjaCAoIHRoaXMuY2FyZGluYWwgKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FyZGluYWwuU09VVEg6XHJcbiAgICAgICAgICAgICAgICB4ID0gdGhpcy5vd25lci54ICsgdGhpcy5vd25lci53IC8gMjtcclxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLm93bmVyLnkgKyB0aGlzLm93bmVyLmg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5maWxsUmVjdCggXHJcbiAgICAgICAgICAgIHggLSBDb250cm9sUG9pbnQuSFNJWkUsIHkgLSBDb250cm9sUG9pbnQuSFNJWkUsIFxyXG4gICAgICAgICAgICAyICogQ29udHJvbFBvaW50LkhTSVpFLCAyICogQ29udHJvbFBvaW50LkhTSVpFIFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGludGVyZmFjZSBDb2xvciB7XG4gICAgcjogbnVtYmVyO1xuICAgIGc6IG51bWJlcjtcbiAgICBiOiBudW1iZXI7XG4gICAgYTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JIZWxwZXIge1xuXG4gICAgc3RhdGljIGNvbG9yQXNTdHJpbmcoXG4gICAgICAgIGNvbG9yOiBDb2xvciApOiBzdHJpbmcge1xuXG4gICAgICAgIHJldHVybiAncmdiYSgnXG4gICAgICAgICAgICArIGNvbG9yLnJcbiAgICAgICAgICAgICsgJywnXG4gICAgICAgICAgICArIGNvbG9yLmdcbiAgICAgICAgICAgICsgJywnXG4gICAgICAgICAgICArIGNvbG9yLmJcbiAgICAgICAgICAgICsgJywnXG4gICAgICAgICAgICArIChjb2xvci5hIC8gMjU1KVxuICAgICAgICAgICAgKyAnKSc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2FyZGluYWwsIENvbnRyb2xQb2ludCB9IGZyb20gJy4vY29udHJvbC1wb2ludCc7XHJcbmltcG9ydCB7IENvbG9ySGVscGVyIH0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xyXG5pbXBvcnQgeyBHcmFwaGljc09iamVjdCB9IGZyb20gJy4vZ3JhcGhpY3Mtb2JqZWN0JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb24ge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpbWVuc2lvbiB7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCb3VuZEJveCBcclxuICAgIGltcGxlbWVudHMgR3JhcGhpY3NPYmplY3Qge1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBjb2xvcjogc3RyaW5nID0gQ29sb3JIZWxwZXIuY29sb3JBc1N0cmluZyh7XHJcbiAgICAgICAgcjogMjgsXHJcbiAgICAgICAgZzogMTE2LFxyXG4gICAgICAgIGI6IDIzMixcclxuICAgICAgICBhOiAyNTUsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBwdWJsaWMgaW50ZXJmYWNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIHBvc2l0aW9uOiBQb3NpdGlvbixcclxuICAgICAgICBwcml2YXRlIHNpemU6IERpbWVuc2lvbiApIHtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb250cm9sUG9pbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpbnQoIFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBkcmF3IGJvdW5kIGJveFxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IEJvdW5kQm94LmNvbG9yO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgucmVjdCggXHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCBcclxuICAgICAgICAgICAgdGhpcy5zaXplLncsICAgICB0aGlzLnNpemUuaCBcclxuICAgICAgICApO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyBjb250cm9sIHBvaW50c1xyXG4gICAgICAgIHRoaXMuY3RybFBvaW50cy5mb3JFYWNoKCBcclxuICAgICAgICAgICAgKGNwOiBDb250cm9sUG9pbnQpID0+IGNwLnBhaW50KCBjdHggKSBcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB4KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgeSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHcoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaXplLnc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaXplLmg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBzZWxlY3QoXHJcbiAgICAgICAgZXZEb3duOiBNb3VzZUV2ZW50LFxyXG4gICAgICAgIGV2VXA/OiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xyXG4gICAgICAgICBcclxuICAgICAgICBpZiAoIGV2VXAgKSB7XHJcbiAgICAgICAgICAgIC8vIGJvdW5kIGJveCBzZWxlY3Rpb25cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVkKFxyXG4gICAgICAgICAgICAgICAgZXZEb3duLCBldlVwXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBwb2ludCBzZWxlY3Rpb25cclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWlucyhcclxuICAgICAgICAgICAgZXZEb3duXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBub24tcHVibGljIG1lbWJlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBjdHJsUG9pbnRzOiBDb250cm9sUG9pbnRbXSA9IFtcclxuICAgIF07XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDb250cm9sUG9pbnRzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyB0YXJnZXQgPSBFUzIwMTcrXHJcbiAgICAgICAgLy8gT2JqZWN0LnZhbHVlcyhcclxuICAgICAgICAvLyAgICAgQ2FyZGluYWxcclxuICAgICAgICAvLyApXHJcbiAgICAgICAgLy8gLm1hcCggKGNhcmRpbmFsOiBDYXJkaW5hbCkgPT5cclxuICAgICAgICAvLyAgICAgdGhpcy5jdHJsUG9pbnRzXHJcbiAgICAgICAgLy8gICAgICAgICAucHVzaChcclxuICAgICAgICAvLyAgICAgICAgICAgICBuZXcgQ29udHJvbFBvaW50KFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBjYXJkaW5hbFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIClcclxuICAgICAgICAvLyAgICAgICAgIClcclxuICAgICAgICAvLyApO1xyXG5cclxuICAgICAgICAvLyB0YXJnZXQgPSBFUzVcclxuICAgICAgICBPYmplY3Qua2V5cyhcclxuICAgICAgICAgICAgQ2FyZGluYWxcclxuICAgICAgICApXHJcbiAgICAgICAgLm1hcCggKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmRpbmFsOiBudW1iZXIgPSBOdW1iZXIoIFxyXG4gICAgICAgICAgICAgICAga2V5IFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhaXNOYU4oIGNhcmRpbmFsICkgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0cmxQb2ludHNcclxuICAgICAgICAgICAgICAgICAgICAucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbnRyb2xQb2ludChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnRhaW5zKFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0OiAgIG51bWJlciA9IHRoaXMueDtcclxuICAgICAgICBjb25zdCByaWdodDogIG51bWJlciA9IHRoaXMueCArIHRoaXMudztcclxuICAgICAgICBjb25zdCB0b3A6ICAgIG51bWJlciA9IHRoaXMueTtcclxuICAgICAgICBjb25zdCBib3R0b206IG51bWJlciA9IHRoaXMueSArIHRoaXMuaDtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIHJldHVybiBsZWZ0IDwgZXYuY2xpZW50WCAmJiBldi5jbGllbnRYIDwgcmlnaHRcclxuICAgICAgICAgICAgJiYgdG9wIDwgZXYuY2xpZW50WSAmJiBldi5jbGllbnRZIDwgYm90dG9tO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE9cclxuICAgIHByaXZhdGUgY29udGFpbmVkKFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwOiBNb3VzZUV2ZW50ICk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQm91bmRCb3ggfSBmcm9tICcuL2JvdW5kLWJveCc7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xyXG5pbXBvcnQgeyBHcmFwaGljc09iamVjdCB9IGZyb20gJy4vZ3JhcGhpY3Mtb2JqZWN0JztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWd1cmUgXHJcbiAgICBpbXBsZW1lbnRzIEdyYXBoaWNzT2JqZWN0IHtcclxuXHJcbiAgICAvLyBwdWJsaWMgaW50ZXJmYWNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGRvUGFpbnQoIFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJvdGVjdGVkIGJib3g6IEJvdW5kQm94LCAgICAgICAvLyBORVdcclxuICAgICAgICBwcm90ZWN0ZWQgY29sb3I6IENvbG9yICkge1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZWxlY3RlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNlbGVjdGVkKCBzOiBib29sZWFuICkge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkID0gcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBUZW1wbGF0ZSBNZXRob2RcclxuICAgIHBhaW50KCBcclxuICAgICAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gMS4gcGFpbnQgZmlndXJlXHJcbiAgICAgICAgdGhpcy5kb1BhaW50KFxyXG4gICAgICAgICAgICBjdHhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyAyLiBwYWludCBib3VuZGluZyBib3hcclxuICAgICAgICBpZiAoIHRoaXMuc2VsZWN0ZWQgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmJveFxyXG4gICAgICAgICAgICAgICAgLnBhaW50KFxyXG4gICAgICAgICAgICAgICAgICAgIGN0eFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBzZWxlY3QoIFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwPzogTW91c2VFdmVudCApOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5iYm94XHJcbiAgICAgICAgICAgIC5zZWxlY3QoIFxyXG4gICAgICAgICAgICAgICAgZXZEb3duLCBcclxuICAgICAgICAgICAgICAgIGV2VXAgXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJvdGVjdGVkIF9zZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG59XHJcbiIsImltcG9ydCB7IEZpZ3VyZSB9IGZyb20gJy4vZmlndXJlJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi91dGlsL2NvbG9yLWhlbHBlcic7XHJcbmltcG9ydCB7IEdyYXBoaWNzT2JqZWN0IH0gZnJvbSAnLi9ncmFwaGljcy1vYmplY3QnO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdlb21ldHJpY0ZpZ3VyZSBcclxuICAgIGV4dGVuZHMgRmlndXJlIHtcclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgXG4gICAgQm91bmRCb3gsIFxufSBmcm9tICcuL2JvdW5kLWJveCc7XG5cbmltcG9ydCB7IFxuICAgIENvbG9yLFxuICAgIENvbG9ySGVscGVyLCBcbn0gZnJvbSAnLi4vdXRpbC9jb2xvci1oZWxwZXInO1xuXG5pbXBvcnQgeyBcbiAgICBHZW9tZXRyaWNGaWd1cmUsXG59IGZyb20gJy4vZ2VvbWV0cmljLWZpZ3VyZSc7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIFxuICAgIGV4dGVuZHMgR2VvbWV0cmljRmlndXJlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBiYm94OiBCb3VuZEJveCxcbiAgICAgICAgY29sb3I6IENvbG9yICkge1xuXG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgYmJveCxcbiAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICk7XG4gICAgfVxuICAgICAgICBcbiAgICBwcm90ZWN0ZWQgZG9QYWludChcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XG5cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gQ29sb3JIZWxwZXIuY29sb3JBc1N0cmluZyhcbiAgICAgICAgICAgIHRoaXMuY29sb3JcbiAgICAgICAgKTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oXG4gICAgICAgICAgICB0aGlzLmJib3gueCwgXG4gICAgICAgICAgICB0aGlzLmJib3gueVxuICAgICAgICApO1xuICAgICAgICBjdHgubGluZVRvKFxuICAgICAgICAgICAgdGhpcy5iYm94LnggKyB0aGlzLmJib3gudywgXG4gICAgICAgICAgICB0aGlzLmJib3gueSArIHRoaXMuYmJveC5oXG4gICAgICAgICk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59IiwiaW1wb3J0IGFwcCBmcm9tICcuLi9pbmRleCc7XHJcblxyXG5pbXBvcnQgeyBcclxuICAgIEJvdW5kQm94LCBcclxufSBmcm9tICcuL2JvdW5kLWJveCc7XHJcblxyXG5pbXBvcnQgeyBcclxuICAgIEZpZ3VyZSwgXHJcbn0gZnJvbSAnLi9maWd1cmUnO1xyXG5cclxuaW1wb3J0IHsgXHJcbiAgICBMaW5lIFxyXG59IGZyb20gJy4vbGluZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhd2luZyB7XHJcbiAgICBwcml2YXRlIGZpZ3VyZXM6IEZpZ3VyZVtdID0gW1xyXG4gICAgXTtcclxuXHJcbiAgICBwcml2YXRlIG1vZGlmaWVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHBvbHltb3JwaGlzbSBpbiBhY3Rpb25cclxuICAgIHBhaW50KFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmZpZ3VyZXMuZm9yRWFjaCggXHJcbiAgICAgICAgICAgIChmOiBGaWd1cmUpID0+IGYucGFpbnQoIGN0eCApIFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogZGVsZXRlIHRoaXNcclxuICAgIGFkZFRlc3RGaWd1cmVzKCk6IHZvaWQgeyAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlZExpbmU6IExpbmUgPSBuZXcgTGluZShcclxuICAgICAgICAgICAgbmV3IEJvdW5kQm94KCB7IHg6IDEwMCwgeTogMTAwIH0sIHsgdzogNDAwLCBoOiAxMDAgfSApLCAgIC8vIE5FV1xyXG4gICAgICAgICAgICB7IHI6IDI1NSwgZzogMCwgYjogMCwgYTogMjU1IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZmlndXJlc1xyXG4gICAgICAgICAgICAucHVzaChcclxuICAgICAgICAgICAgICAgIHJlZExpbmVcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JlZW5MaW5lOiBMaW5lID0gbmV3IExpbmUoXHJcbiAgICAgICAgICAgIG5ldyBCb3VuZEJveCggeyB4OiAxMDAsIHk6IDEwMCB9LCB7IHc6IDQwMCwgaDogMjAwIH0gKSwgICAvLyBORVdcclxuICAgICAgICAgICAgeyByOiAwLCBnOiAyNTUsIGI6IDAsIGE6IDI1NSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmZpZ3VyZXNcclxuICAgICAgICAgICAgLnB1c2goXHJcbiAgICAgICAgICAgICAgICBncmVlbkxpbmVcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmxhY2tMaW5lOiBMaW5lID0gbmV3IExpbmUoXHJcbiAgICAgICAgICAgIG5ldyBCb3VuZEJveCggeyB4OiAxMDAsIHk6IDEwMCB9LCB7IHc6IDQwMCwgaDogMzAwIH0gKSwgICAvLyBORVdcclxuICAgICAgICAgICAgeyByOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTUgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5maWd1cmVzXHJcbiAgICAgICAgICAgIC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgYmxhY2tMaW5lXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0QWxsKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmlndXJlcy5mb3JFYWNoKCBcclxuICAgICAgICAgICAgKGY6IEZpZ3VyZSkgPT4gZi5zZWxlY3RlZCA9IHRydWUgXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVdcclxuICAgIHNlbGVjdCggXHJcbiAgICAgICAgZXZEb3duOiBNb3VzZUV2ZW50LFxyXG4gICAgICAgIGV2VXA/OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZmlndXJlcy5mb3JFYWNoKCBcclxuICAgICAgICAgICAgKGY6IEZpZ3VyZSkgPT4gZi5zZWxlY3QoIGV2RG93biwgZXZVcCApIFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IHNvbWV0aGluZyBzZWxlY3RlZD9cclxuICAgICAgICBhcHAucmVwYWludCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUb29sIHtcbiAgICBcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcHJvY2Vzc01vdXNlVXAoKTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBldkRvd246IE1vdXNlRXZlbnQ7XG4gICAgcHJvdGVjdGVkIGV2VXA6ICAgTW91c2VFdmVudDtcblxuICAgIG9uTW91c2VEb3duKFxuICAgICAgICBldjogTW91c2VFdmVudCApOiB2b2lkIHtcblxuICAgICAgICB0aGlzLmV2RG93biA9IGV2O1xuICAgIH1cblxuICAgIC8vIFRlbXBsYXRlIE1ldGhvZFxuICAgIG9uTW91c2VVcChcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XG5cbiAgICAgICAgLy8gMS4gc2F2ZSBldmVudFxuICAgICAgICB0aGlzLmV2VXAgPSBldjtcblxuICAgICAgICAvLyAyLiBkbyBzb21ldGhpbmcgdy8gdGhlIGV2ZW50c1xuICAgICAgICB0aGlzLnByb2Nlc3NNb3VzZVVwKCk7XG4gICAgfVxuXG4gICAgLy8gbm9uLXB1YmxpYyBtZW1iZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcHJvdGVjdGVkIGVxdWFsKFxuICAgICAgICBldjE6IE1vdXNlRXZlbnQsXG4gICAgICAgIGV2MjogTW91c2VFdmVudCApOiBib29sZWFuIHtcblxuICAgICAgICByZXR1cm4gZXYxLmNsaWVudFggPT09IGV2Mi5jbGllbnRYIFxuICAgICAgICAgICAgJiYgZXYxLmNsaWVudFkgPT09IGV2Mi5jbGllbnRZO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBUb29sIH0gZnJvbSAnLi90b29sJztcblxuaW1wb3J0IGFwcCBmcm9tICcuLi9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb25Ub29sIFxuICAgIGV4dGVuZHMgVG9vbCB7XG5cbiAgICBwcm90ZWN0ZWQgcHJvY2Vzc01vdXNlVXAoKTogdm9pZCB7XG4gICAgICAgIGlmICggdGhpcy5lcXVhbCggdGhpcy5ldkRvd24sIHRoaXMuZXZVcCApICkge1xuICAgICAgICAgICAgLy8gcG9pbnQgc2VsZWN0aW9uXG4gICAgICAgICAgICBhcHAuc2VsZWN0KFxuICAgICAgICAgICAgICAgIHRoaXMuZXZVcFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJvdW5kIGJveCBzZWxlY3Rpb25cbiAgICAgICAgICAgIGFwcC5zZWxlY3QoXG4gICAgICAgICAgICAgICAgdGhpcy5ldkRvd24sXG4gICAgICAgICAgICAgICAgdGhpcy5ldlVwXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFxyXG4gICAgQXBwIFxyXG59IGZyb20gJy4uL2NvbnRyb2xsZXIvYXBwJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluV2luZG93IHtcclxuICAgIC8vIHByaXZhdGUgbWVudTogTWVudUhlbHBlcjtcclxuICAgIHByaXZhdGUgY2FudmFzOiBDYW52YXM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FudmFzXHJcbiAgICAgICAgICAgIC5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWludCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbnZhc1xyXG4gICAgICAgICAgICAucmVwYWludCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBtb2R1bGUgcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4vdG9vbCc7XHJcbmltcG9ydCB7IFNlbGVjdGlvblRvb2wgfSBmcm9tICcuL3NlbGVjdGlvbi10b29sJztcclxuXHJcbmNsYXNzIENhbnZhcyB7XHJcblxyXG4gICAgcHJpdmF0ZSBodG1sRWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgTElORV9DUkVBVElPTjogbnVtYmVyID0gMDtcclxuICAgIHN0YXRpYyByZWFkb25seSBSRUNUX0NSRUFUSU9OOiBudW1iZXIgPSAxO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IEVMTElfQ1JFQVRJT046IG51bWJlciA9IDI7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgVEVYVF9DUkVBVElPTjogbnVtYmVyID0gMztcclxuICAgIHN0YXRpYyByZWFkb25seSBTRUxFQ1RJT046ICAgICBudW1iZXIgPSA0O1xyXG4gICAgLy8gTkVXIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBwcml2YXRlIHRvb2xzOiBUb29sW10gPSBbXHJcbiAgICBdO1xyXG4gICAgcHJpdmF0ZSBhY3RpdmVUb29sOiBUb29sO1xyXG4gICAgLy8gTkVXIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IFBBR0VfV0lEVEg6IG51bWJlciA9IDIwMDA7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgUEFHRV9IRUlHSFQ6IG51bWJlciA9IDIwMDA7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IEdSSURfU0laRTogbnVtYmVyID0gMTAwO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IEdSSURfQ09MT1I6IHN0cmluZyA9ICcjREREMEREJztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ2NhbnZhcydcclxuICAgICAgICApO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHlcclxuICAgICAgICAgICAgLmFwcGVuZENoaWxkKCBcclxuICAgICAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnQgXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnQud2lkdGggPSBDYW52YXMuUEFHRV9XSURUSDtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmhlaWdodCA9IENhbnZhcy5QQUdFX0hFSUdIVDtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkFGQUZBJztcclxuXHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmh0bWxFbGVtZW50XHJcbiAgICAgICAgICAgIC5nZXRDb250ZXh0KFxyXG4gICAgICAgICAgICAgICAgJzJkJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gTkVXXHJcbiAgICAgICAgdGhpcy5idWlsZFRvb2xzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVG9vbChcclxuICAgICAgICAgICAgQ2FudmFzLlNFTEVDVElPTlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IHJlZ2lzdGVyIGZvciBtb3VzZSBldmVudHNcclxuICAgICAgICAvLyBkb3duLCB1cCwgbW92ZSwgZHJhZywgZG91YmxlY2xpY2tcclxuICAgICAgICAvLyBlbnRlciwgZXhpdFxyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXHJcbiAgICAgICAgICAgICdtb3VzZWRvd24nLCBcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZURvd25cclxuICAgICAgICAgICAgICAgIC5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXHJcbiAgICAgICAgICAgICdtb3VzZXVwJywgXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2VVcFxyXG4gICAgICAgICAgICAgICAgLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aXZlVG9vbCggXHJcbiAgICAgICAgdDogbnVtYmVyICkge1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZVRvb2wgPSB0aGlzLnRvb2xzW1xyXG4gICAgICAgICAgICB0XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb250ZXh0KCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5odG1sRWxlbWVudC53aWR0aDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmh0bWxFbGVtZW50LmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXBhaW50KCk6IHZvaWQgeyAgICAgICAgICAgLy8gTkVXXHJcbiAgICAgICAgdGhpcy5kcmF3R3JpZChcclxuICAgICAgICAgICAgdGhpcy5jdHhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBBcHAuZ2V0SW5zdGFuY2UoKVxyXG4gICAgICAgICAgICAucGFpbnQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eFxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFyKFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZBRkFGQSc7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhd0dyaWQoXHJcbiAgICAgICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsICk6IHZvaWQge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBpZiAoIGN0eCApIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhcihcclxuICAgICAgICAgICAgICAgIGN0eFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IENhbnZhcy5HUklEX0NPTE9SO1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogdXNlIGRvY3VtZW50IHNpemVcclxuICAgICAgICAgICAgY29uc3QgbnVtVmVydGljYWxzOiBudW1iZXIgPSB0aGlzLndpZHRoIC8gQ2FudmFzLkdSSURfU0laRTtcclxuICAgICAgICAgICAgY29uc3QgbnVtSG9yaXpvbnRhbHM6IG51bWJlciA9IHRoaXMuaGVpZ2h0IC8gQ2FudmFzLkdSSURfU0laRTtcclxuXHJcbiAgICAgICAgICAgIC8vIHZlcnRpY2Fsc1xyXG4gICAgICAgICAgICBmb3IgKCBsZXQgdjogbnVtYmVyID0gMTsgdiA8IG51bVZlcnRpY2FsczsgdisrICkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyggXHJcbiAgICAgICAgICAgICAgICAgICAgdiAqIENhbnZhcy5HUklEX1NJWkUsIFxyXG4gICAgICAgICAgICAgICAgICAgIDAgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY3R4LmxpbmVUbyhcclxuICAgICAgICAgICAgICAgICAgICB2ICogQ2FudmFzLkdSSURfU0laRSwgXHJcbiAgICAgICAgICAgICAgICAgICAgQ2FudmFzLlBBR0VfSEVJR0hUIFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaG9yaXpvbnRhbHNcclxuICAgICAgICAgICAgZm9yICggbGV0IGg6IG51bWJlciA9IDE7IGggPCBudW1Ib3Jpem9udGFsczsgaCsrICkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyggXHJcbiAgICAgICAgICAgICAgICAgICAgMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgaCAqIENhbnZhcy5HUklEX1NJWkUgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY3R4LmxpbmVUbyhcclxuICAgICAgICAgICAgICAgICAgICBDYW52YXMuUEFHRV9XSURUSCwgXHJcbiAgICAgICAgICAgICAgICAgICAgaCAqIENhbnZhcy5HUklEX1NJWkUgXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE5FVyAgLy8gVE9ETzogYWRkIHJlbWFpbmluZyB0b29sc1xyXG4gICAgcHJpdmF0ZSBidWlsZFRvb2xzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyB0aGlzLnRvb2xzWyBDYW52YXMuTElORV9DUkVBVElPTiBdID0gbmV3IExpbmVDcmVhdGlvblRvb2woKTtcclxuICAgICAgICAvLyB0aGlzLnRvb2xzWyBDYW52YXMuUkVDVF9DUkVBVElPTiBdID0gbmV3IFJlY3RDcmVhdGlvblRvb2woKTtcclxuICAgICAgICAvLyB0aGlzLnRvb2xzWyBDYW52YXMuRUxMSV9DUkVBVElPTiBdID0gbmV3IEVsbGlDcmVhdGlvblRvb2woKTtcclxuICAgICAgICAvLyB0aGlzLnRvb2xzWyBDYW52YXMuVEVYVF9DUkVBVElPTiBdID0gbmV3IFRleHRDcmVhdGlvblRvb2woKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnRvb2xzWyBDYW52YXMuU0VMRUNUSU9OIF0gPSBuZXcgU2VsZWN0aW9uVG9vbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0YXRlIFBhdHRlcm5cclxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VEb3duKFxyXG4gICAgICAgIGV2OiBNb3VzZUV2ZW50ICk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZVRvb2xcclxuICAgICAgICAgICAgLm9uTW91c2VEb3duKFxyXG4gICAgICAgICAgICAgICAgZXZcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGF0ZSBQYXR0ZXJuXHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlVXAoXHJcbiAgICAgICAgZXY6IE1vdXNlRXZlbnQgKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlVG9vbFxyXG4gICAgICAgICAgICAub25Nb3VzZVVwKFxyXG4gICAgICAgICAgICAgICAgZXZcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEcmF3aW5nIH0gZnJvbSAnLi4vbW9kZWwvZHJhd2luZyc7XHJcbmltcG9ydCB7IE1haW5XaW5kb3cgfSBmcm9tICcuLi92aWV3L21haW4td2luZG93JztcclxuXHJcbi8vIFNpbmdsZXRvbiA9PiBJbW11dGFibGVcclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQXBwO1xyXG5cclxuICAgIHByaXZhdGUgZHJhd2luZzogRHJhd2luZztcclxuICAgIHByaXZhdGUgbWFpbldpbmRvdzogTWFpbldpbmRvdztcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRyYXdpbmcgPSBuZXcgRHJhd2luZygpO1xyXG4gICAgICAgIHRoaXMubWFpbldpbmRvdyA9IG5ldyBNYWluV2luZG93KCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gJ0dyYXBoaWNzIEVkaXRvciB2MC42JztcclxuICAgIH1cclxuXHJcbiAgICAvLyBsYXp5IGluaXRpYWxpemF0aW9uIChwcmVmZXJyZWQpXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQXBwIHtcclxuICAgICAgICBpZiAoIEFwcC5pbnN0YW5jZSApIHtcclxuICAgICAgICAgICAgLy8gTk9PUFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgQXBwLmluc3RhbmNlID0gbmV3IEFwcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIEFwcC5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBydW4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kcmF3aW5nICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlXHJcbiAgICAgICAgICAgIC5hZGRUZXN0RmlndXJlcygpO1xyXG5cclxuICAgICAgICB0aGlzLm1haW5XaW5kb3dcclxuICAgICAgICAgICAgLmluaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnJvbSBtb2RlbCB0byB2aWV3IFxyXG4gICAgcmVwYWludCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1haW5XaW5kb3dcclxuICAgICAgICAgICAgLnJlcGFpbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmcm9tIHZpZXcgdG8gbW9kZWxcclxuICAgIHBhaW50KFxyXG4gICAgICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdpbmdcclxuICAgICAgICAgICAgLnBhaW50KFxyXG4gICAgICAgICAgICAgICAgY3R4XHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkVXXHJcbiAgICBzZWxlY3QoIFxyXG4gICAgICAgIGV2RG93bjogTW91c2VFdmVudCxcclxuICAgICAgICBldlVwPzogTW91c2VFdmVudCApOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRyYXdpbmdcclxuICAgICAgICAgICAgLnNlbGVjdChcclxuICAgICAgICAgICAgICAgIGV2RG93bixcclxuICAgICAgICAgICAgICAgIGV2VXBcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tICcuL2NvbnRyb2xsZXIvYXBwJztcclxuXHJcbmNvbnN0IGFwcCA9IEFwcC5nZXRJbnN0YW5jZSgpO1xyXG5hcHAucnVuKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=